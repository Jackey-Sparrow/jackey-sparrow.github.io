!function(t){"use strict";t.module("hiApp.contacts").controller("contactDetailController",["$scope","$stateParams","contactService","$state","platformDeviceHelper",function(t,c,e,o,a){t.contact=e.getContactById(c.contactId),t.platformDeviceHelper=a,t.back=function(){o.go("tab.contacts")}}])}(angular);
!function(t){"use strict";t.module("hiApp.contacts").controller("contactsController",["$scope","contactService","$translate",function(t,c,n){t.contactsTranslate={contactsName:n.instant("contacts.contactsName"),search:n.instant("contacts.search")},c.getAllContacts().then(function(c){t.contacts=c},function(t){console.log(t)}),t.remove=function(t){c.remove(t)}}])}(angular);
!function(t){"use strict";t.module("hiApp.contacts").factory("contactHttpService",["$http","$q",function(t,n){var c={};return c.getAllContacts=function(){var c=n.defer();return t.get("data/contacts.json").then(function(t){c.resolve(t.data)},function(t){c.reject(t)}),c.promise},c}])}(angular);
!function(t){"use strict";t.module("hiApp.contacts").factory("contactService",["$q","contactHttpService",function(t,n){var e={},r=[];return e.getAllContacts=function(){var e=t.defer();return n.getAllContacts().then(function(t){r=t,e.resolve(t)},function(t){e.reject(t)}),e.promise},e.getContactById=function(t){for(var n=0;n<r.length;n++)if(r[n].id===parseInt(t))return r[n];return null},e.remove=function(t){r.splice(r.indexOf(t),1)},e}])}(angular);
!function(a){"use strict";a.module("hiApp.language").controller("changeLanguageController",["$scope","$state","languageService","localStorageService","$translate","$timeout",function(a,e,g,n,t,u){a.languages=g.getList(),a.languageTranslate={title:t.instant("language.title"),switchLanguage:t.instant("language.switchLanguage")};var l=n.getUserInfo();l||e.go("login"),a.changeLanguage=function(e){a.chooseLanguage=g.getLanguageById(e),t.use(a.chooseLanguage.languageTranslate);var u=a.chooseLanguage;l.languageId=u.LanguageId,l.language=u.language,l.languageName=u.languageName,l.languageTranslate=u.languageTranslate,n.setUserInfo(l)},a.done=function(){window.location.reload(!0),e.go("tab.setting")},a.back=function(){e.go("tab.setting")}}])}(angular);
!function(e){"use strict";e.module("hiApp.language").factory("languageService",["$translate","localStorageService",function(e,a){var n={},g=[{LanguageId:1,LanguageName:e.instant("language.english"),language:"en",culture:"en-gb",languageTranslate:"en",selected:!1},{LanguageId:2,LanguageName:e.instant("language.chinese"),language:"cn",culture:"en-gb",languageTranslate:"cn",selected:!1}];return n.getList=function(){var e=a.getUserInfo();if(e){var n=e.languageId;this.getLanguageById(n)}return g},n.getLanguageById=function(e){for(var a=g.length,n=0;a>n;n++){var t=g[n];if(t.LanguageId===e)return t.selected=!0,t;t.selected=!1}},n.refreshLanguage=function(){g[0].LanguageName=e.instant("language.english"),g[1].LanguageName=e.instant("language.chinese")},n}])}(angular);
!function(a){"use strict";a.module("hiApp.login").controller("loginController",["$scope","$state","$http","$translate","basicControllerService","languageService","localStorageService",function(a,e,n,g,l,o,s){a.login={userName:"",password:"",error:"",languageId:1,userNameLabel:g.instant("login.userName"),passwordLabel:g.instant("login.password"),languageLabel:g.instant("login.language"),loginLabel:g.instant("login.login"),loginFn:function(){var n=a.chooseLanguage;a.showLoading(),setTimeout(function(){s.setUserInfo({userName:a.login.userName,password:a.login.password,languageId:n.LanguageId,language:n.language,languageName:n.LanguageName,languageTranslate:n.languageTranslate}),a.hideLoading(),e.go("tab.tweet")},2e3)}};var i=s.getUserInfo();i&&(a.login.userName=i.userName,a.login.password=i.password,a.login.languageId=i.languageId),a.chooseLanguage=o.getLanguageById(a.login.languageId),l.initController(a),a.languages=o.getList(),a.changeLanguage=function(){a.chooseLanguage=o.getLanguageById(a.login.languageId),g.use(a.chooseLanguage.languageTranslate),a.login.userNameLabel=g.instant("login.userName"),a.login.passwordLabel=g.instant("login.password"),a.login.languageLabel=g.instant("login.language"),a.login.loginLabel=g.instant("login.login"),o.refreshLanguage()}}])}(angular);
!function(n){"use strict";n.module("ionic.extension").directive("ionBaiduMap",["$ionicModal",function(n){return{restrict:"A",scope:{},link:function(o,a,e){a.bind("click",function(){n.fromTemplateUrl("platform/templates/ion-baidu-map.html",{scope:o,animation:"animated bounceInRight",hideDelay:1020}).then(function(n){o.modal=n,o.modal.show()})}),o.ionMap={hide:function(){o.modal.hide(),o.modal.remove()},latlng:{lat:e.lat,lng:e.lng}},o.$on("$destroy",function(){o.modal&&o.modal.remove(),a.unbind("click")})}}}]),n.module("ionic.extension").controller("ionBaiduMapController",["$scope","$timeout","$ionicAlert",function(n,o,a){n.back=function(){n.ionMap.hide()},o(function(){n.map=new BMap.Map("allMap");var o=new BMap.Point(n.ionMap.latlng.lat,n.ionMap.latlng.lng);n.map.centerAndZoom(o,15),n.map.addControl(new BMap.MapTypeControl);var a=new BMap.Marker(o);n.map.addOverlay(a),a.setAnimation(BMAP_ANIMATION_BOUNCE)}),n.centerOnMe=function(){var o=new BMap.Geolocation;o.getCurrentPosition(function(o){if(this.getStatus()==BMAP_STATUS_SUCCESS){var e=new BMap.Marker(o.point);n.map.addOverlay(e),n.map.panTo(o.point)}else a.alert(n,"error","get location error",4)},{enableHighAccuracy:!0})}}])}(angular);
!function(o){"use strict";o.module("ionic.extension").directive("ionGoogleMap",["$ionicModal",function(o){return{restrict:"A",scope:{},link:function(n,e){e.bind("click",function(){o.fromTemplateUrl("platform/templates/ion-google-map.html",{scope:n,animation:"animated bounceInRight",hideDelay:1020}).then(function(o){n.modal=o,n.modal.show()})}),n.ionMap={hide:function(){n.modal.hide(),n.modal.remove()},latlng:{lat:43.07493,lng:-89.381388}},n.$on("$destroy",function(){n.modal&&n.modal.remove(),e.unbind("click")})}}}]),o.module("ionic.extension").controller("ionGoogleMapController",function(o,n,e,t){function i(){o.latlng=o.ionMap.latlng;var n=new google.maps.LatLng(o.latlng.lat,o.latlng.lng),t={center:n,zoom:16,mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(document.getElementById("map"),t),a='<div><a ng-click="clickTest()">Click me!</a></div>',l=e(a)(o),c=new google.maps.InfoWindow({content:l[0]}),d=new google.maps.Marker({position:n,map:i,title:"Uluru (Ayers Rock)"});google.maps.event.addListener(d,"click",function(){c.open(i,d)}),o.map=i}t(function(){"complete"===document.readyState?i():google.maps.event.addDomListener(window,"load",i)}),o.centerOnMe=function(){o.map&&(o.loading=n.show({content:"Getting current location...",showBackdrop:!1}),navigator.geolocation.getCurrentPosition(function(n){o.map.setCenter(new google.maps.LatLng(n.coords.latitude,n.coords.longitude)),o.loading.hide()},function(n){alert("Unable to get location: "+n.message),o.loading.hide()}))},o.clickTest=function(){alert("Example of infowindow with ng-click")},o.back=function(){o.ionMap.hide()}})}(angular);
!function(t){"use strict";t.module("ionic.extension").directive("ionPagination",[function(){return{restrict:"AE",replace:!0,scope:{totalCount:"=",currentCount:"="},template:'<p class="ionPagination ">{{currentCount}} / {{totalCount}}</p>'}}])}(angular);
!function(o){"use strict";o.module("ionic.extension").directive("ionPictureBrowser",["$ionicModal",function(o){return{restrict:"A",scope:{},link:function(e,i,n){i.bind("click",function(){o.fromTemplateUrl("platform/templates/ion-picture-browser.html",{scope:e,animation:"animated zoomInUp",hideDelay:1020}).then(function(o){e.modal=o,e.modal.show()})}),e.pictureBrowser={hide:function(){e.modal.hide(),e.modal.remove()},imgUrl:n.src},e.$on("$destroy",function(){e.modal&&e.modal.remove(),i.unbind("click")})}}}]),o.module("ionic.extension").controller("pictureBrowserController",["$scope",function(o){o.back=function(){o.pictureBrowser.hide()},o.imgUrl=o.pictureBrowser.imgUrl}])}(angular);
!function(i){"use strict";i.module("ionic.extension").directive("ionSmallItem",[function(){return{restrict:"E",replace:!0,scope:{onTapEvent:"="},templateUrl:"js/platform/templates/ion-small-item.html",link:function(i,n,o){i.iconClass=o.iconClass,i.iconBackgroudColor=o.iconBgcolor,i.description=o.description}}}])}(angular);
!function(n){"use strict";n.module("ionic.extension").factory("basicControllerService",["$ionicLoading","$ionicPopup",function(n,o){var i={};return i.initController=function(i){i.showLoading=function(){n.show({template:'<ion-spinner class="spinner-light"></ion-spinner>'})},i.hideLoading=function(){n.hide()},i.showMessage=function(n,e){i.popUp=o.alert({title:n,template:'<div class="messageBody">'+e+"</div>",scope:i})},i.$on("$destroy",function(){i.popUp&&i.popUp.remove()})},i}])}(angular);
!function(e){"use strict";e.module("ionic.extension").factory("$ionicAlert",["$ionicPopup","$timeout",function(e,c){var s={},i={success:{icon:"ion-checkmark-circled",className:"message-success"},info:{icon:"ion-information-circled",className:"message-info"},warning:{icon:"ion-alert-circled",className:"message-warning"},error:{icon:"ion-close-circled",className:"message-error"}};return s.alert=function(s,a,n,o){var r;switch(o>i.length&&(r=i.info),o){case 1:r=i.success;break;case 2:r=i.info;break;case 3:r=i.warning;break;case 4:r=i.error}var l=e.show({template:'<div class="messageBody '+r.className+'"><i class="message-icon icon '+r.icon+' "></i>'+n+"</div>",title:a,scope:s});c(function(){l.close()},3e3)},s}])}(angular);
!function(n){"use strict";n.module("ionic.extension").factory("localStorageService",["$window",function(n){var o={},r=function(o,r){n.localStorage[o]=JSON.stringify(r)},e=function(o){var r=n.localStorage[o];return r?JSON.parse(r):null};return o.setUserInfo=function(n){r("hiAppUserInfo",n)},o.getUserInfo=function(){return e("hiAppUserInfo")},o}])}(angular);
!function(n){"use strict";n.module("ionic.extension").constant("platformDeviceHelper",{call:function(n){window.location.href="tel:"+n},email:function(n){window.location.href="mailto:"+n}})}(angular);
!function(o){"use strict";o.module("ionic.extension").factory("platformModal",["$ionicModal",function(o){var n,e={};return e.openModal=function(e){n=e.scope,o.fromTemplateUrl(e.templateUrl,{scope:e.scope,animation:"slide-in-up"}).then(function(o){n.modal=o,o.show()})},e.hideModal=function(){n.modal.hide(),n.modal&&delete n.modal},e}])}(angular);
!function(t){"use strict";t.module("hiApp.setting").controller("settingController",["$scope","localStorageService","$translate","basicControllerService","$state","$ionicAlert",function(t,e,n,s,i,a){s.initController(t),t.setting={userName:"",settingName:n.instant("setting.settingName"),feekback:n.instant("setting.feekback"),update:n.instant("setting.update"),language:n.instant("setting.language"),about:n.instant("setting.about"),logout:n.instant("setting.logout"),systemInfo:n.instant("common.systemInfo")};var o=e.getUserInfo();o&&(t.setting.userName=o.userName),t.update=function(){t.showMessage(t.setting.systemInfo,"current version is 0.0.1")},t.logout=function(){i.go("login")},t.feekback=function(){a.alert(t,"hi","message happen!",4)},t.about=function(){t.showMessage(t.setting.systemInfo,"Jackey Li \n Github:https://github.com/Jackey-Sparrow")}}])}(angular);
!function(t){"use strict";t.module("hiApp.tweet").controller("addCommentController",["$scope","$translate",function(t,e){t.title=e.instant("tweet.addComment"),t.commentText=e.instant("tweet.commentText"),t.back=function(){t.modalFn.hideModal()}}])}(angular);
!function(t){"use strict";t.module("hiApp.tweet").controller("addTweetController",["$scope","$translate","$cordovaCamera","$ionicAlert",function(t,e,n,o){t.title=e.instant("tweet.addTweet"),t.somethingNew=e.instant("tweet.somethingNew"),t.takeCamera=function(){t.takePhoto()},t.takePhoto=function(){try{var e={destinationType:Camera.DestinationType.FILE_URI,sourceType:Camera.PictureSourceType.CAMERA};n.getPicture(e).then(function(t){var e=document.getElementById("myImage");e.src=t},function(){o.alert(t,"warning","camera does not support",3)})}catch(a){o.alert(t,"warning","camera does not support",3)}},t.selectPhoto=function(){},t.back=function(){t.modalFn.hideModal()}}])}(angular);
!function(e){"use strict";e.module("hiApp.tweet").controller("tweetController",["$scope","basicControllerService","platformModal","tweetService","$translate","$timeout","$ionicScrollDelegate",function(e,t,o,n,a,i,r){t.initController(e),e.tweetTranslate={like:a.instant("tweet.like"),comments:a.instant("tweet.comments"),comment:a.instant("tweet.comment"),share:a.instant("tweet.share"),tweetName:a.instant("tweet.tweetName")},e.moreTweet=!0;var l={refresh:"refresh",loadMore:"loadMore"};e.options={pageNumber:0,pageSize:10,type:l.loadMore},e.list=[],e.currentCount=e.list.length,e.totalCount=0,e.getData=function(){e.options.type===l.refresh&&e.showLoading(),i(function(){n.getTweetByPagination(e.options).then(function(t){var o=t.main;o.length?(e.options.pageNumber++,e.list=e.list.concat(o),e.currentCount=e.list.length,e.totalCount=t.totalCount,n.setList(e.list),e.options.type===l.loadMore?e.$broadcast("scroll.infiniteScrollComplete"):(e.$broadcast("scroll.refreshComplete"),e.moreTweet=!0,e.hideLoading()),r.resize()):(e.moreTweet=!1,e.hideLoading())},function(){e.moreContact=!1,e.hideLoading()})},3e3)},e.loadMore=function(){e.options.type=l.loadMore,e.getData()},e.refresh=function(){e.moreTweet=!1,e.list=[],e.options={pageNumber:0,pageSize:10,type:l.refresh},e.getData()},e.modalFn={openModal:function(){o.openModal({templateUrl:"tweet/templates/add-tweet.html",scope:e})},hideModal:function(){o.hideModal()}},e.$on("$destroy",function(){e.modal.remove()})}])}(angular);
!function(t){"use strict";t.module("hiApp.tweet").controller("tweetDetailController",["$scope","$stateParams","tweetService","$ionicHistory","$state","tweetCommentService","$ionicActionSheet","$timeout","basicControllerService","platformModal","tweetDetailService","$translate",function(t,e,n,o,a,i,c,m,l,r,s,w){l.initController(t),t.tweetDetailTranslate={title:w.instant("tweet.tweetDetail"),comment:w.instant("tweet.comment"),forward:w.instant("tweet.forward"),addComment:w.instant("tweet.addComment"),noComment:w.instant("tweet.noComment")};var d=e.tweetId;d||a.go("tab.tweet"),t.tweet=n.getTweetById(parseInt(d)),t.comments=[],t.hasComments=t.comments.length;var u=function(){t.tweet=n.getTweetById(parseInt(d)),i.getCommentByTweetId(t.tweet.id).then(function(e){t.comments=e,t.hasComments=t.comments.length},function(){})};t.modalFn={openModal:function(){r.openModal({templateUrl:"tweet/templates/add-comment.html",scope:t})},hideModal:function(){r.hideModal()}};var f=w.instant("tweet.reply"),p=w.instant("tweet.copy"),C=w.instant("tweet.cancel");t.replyComment=function(){var t=c.show({buttons:[{text:f},{text:p}],cancelText:C,cancel:function(){},buttonClicked:function(t){return console.log(t),!0}});m(function(){t()},2e3)},t.back=function(){a.go("tab.tweet")},u()}])}(angular);
!function(t){"use strict";t.module("hiApp.tweet").factory("tweetCommentService",["$http","$q",function(t,e){var n={},r=[];return n.getCommentByTweetId=function(n){var o=e.defer();return t.get("data/comments.json").then(function(t){r=t.data;var e=r.filter(function(t){return t.tweetId===n});o.resolve(e)},function(t){console.log(t),o.reject(t)}),o.promise},n}])}(angular);
!function(t){"use strict";t.module("hiApp.tweet").factory("tweetDetailService",[function(){var t={};return t}])}(angular);
!function(t){"use strict";t.module("hiApp.tweet").factory("tweetService",["$q","$http",function(t,e){var n={},r=[];return n.setList=function(t){r=t},n.getList=function(){return r},n.getTweetById=function(t){var e=r.filter(function(e){return e.id===t});return e.length?e[0]:null},n.getTweetByPagination=function(n){var r=n.pageNumber,i=n.pageSize,o=r*i,u=(r+1)*i,a=t.defer();return e.get("data/tweet.json").then(function(t){var e=t.data.length,n={totalCount:e,main:t.data.slice(o,u)};a.resolve(n)},function(t){console.log(t)}),a.promise},n}])}(angular);