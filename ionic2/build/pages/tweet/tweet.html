<ion-navbar *navbar>
    <ion-toolbar>
        <ion-buttons start>
            <button (click)="refresh()">
                <ion-icon name="refresh"></ion-icon>
            </button>
        </ion-buttons>
        <ion-title>{{tweets.title}}</ion-title>
        <ion-buttons end>
            <button>
                <ion-icon name="add"></ion-icon>
            </button>
        </ion-buttons>
    </ion-toolbar>
</ion-navbar>
<ion-content class="tweet" style="background-color: #efeff4;">

    <ion-list>
        <ion-card *ngFor="#tweet of dataSource">

            <ion-item class="tweet-title">
                <ion-avatar item-left>
                    <img src="{{tweet.icon}}">
                </ion-avatar>
                <h2>{{tweet.name}}</h2>

                <p>{{tweet.insertDate}}</p>
            </ion-item>

            <ion-card-content (click)="openTweetDetail(tweet)">
                <p>{{tweet.content}}</p>
            </ion-card-content>

            <img *ngFor="#pic of tweet.photos" class="half-image" src="{{pic}}">

            <ion-item>
                <button primary clear item-left>
                    <ion-icon name="thumbs-up"></ion-icon>
                    <div>{{tweet.likes}} {{tweets.likes}}</div>
                </button>
                <button primary clear item-left>
                    <ion-icon name="text"></ion-icon>
                    <div>{{tweet.comments}} {{tweets.comments}}</div>
                </button>
            </ion-item>

        </ion-card>
    </ion-list>
    <ion-infinite-scroll *ngIf="moreTweet" (infinite)="loadMore($event)" threshold="100px">
        <ion-infinite-scroll-content loadingText="{{tweets.loadMore}}"></ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>
